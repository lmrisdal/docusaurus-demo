<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Adapters/Inbound/api">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.20">
<title data-rh="true">The ConnXio Api | ConnXio Docs</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://lmrisdal.github.io/docusaurus-demo/Adapters/Inbound/api/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="The ConnXio Api | ConnXio Docs"><meta data-rh="true" name="description" content="The ConnXio (CX) Api is reachable through our Api Management (APIM) proxy and gives customers the ability to push messages through the CX pipeline with webhooks as well as use direct transformation endpoints that uses CX&#x27;s internal logic to map, split or batch messages with code components within their own flows. This page describes the api including information and resources needed to use it."><meta data-rh="true" property="og:description" content="The ConnXio (CX) Api is reachable through our Api Management (APIM) proxy and gives customers the ability to push messages through the CX pipeline with webhooks as well as use direct transformation endpoints that uses CX&#x27;s internal logic to map, split or batch messages with code components within their own flows. This page describes the api including information and resources needed to use it."><link data-rh="true" rel="icon" href="/docusaurus-demo/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://lmrisdal.github.io/docusaurus-demo/Adapters/Inbound/api/"><link data-rh="true" rel="alternate" href="https://lmrisdal.github.io/docusaurus-demo/Adapters/Inbound/api/" hreflang="en"><link data-rh="true" rel="alternate" href="https://lmrisdal.github.io/docusaurus-demo/Adapters/Inbound/api/" hreflang="x-default"><link rel="stylesheet" href="/docusaurus-demo/assets/css/styles.6fc13c9f.css">
<link rel="preload" href="/docusaurus-demo/assets/js/runtime~main.004bad01.js" as="script">
<link rel="preload" href="/docusaurus-demo/assets/js/main.e13538bb.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docusaurus-demo/"><div class="navbar__logo"><img src="/docusaurus-demo/img/connxio-logo.svg" alt="Connxio Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/docusaurus-demo/img/connxio-logo.svg" alt="Connxio Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title text--truncate"></b></a><a href="https://portal.connxio.no" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">ConnXio Portal<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://www.communicate.no/en/connxio" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">About ConnXio<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/lmrisdal/docusaurus-demo" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_dLyj"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_mKqt"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><div class="docPage_ualW"><aside class="theme-doc-sidebar-container docSidebarContainer_UQUJ"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus-demo/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docusaurus-demo/Adapters/Overview/">Adapters</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus-demo/Adapters/Overview/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docusaurus-demo/Adapters/Inbound/api/">Inbound</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docusaurus-demo/Adapters/Inbound/api/">The ConnXio Api</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus-demo/Adapters/Inbound/azure-storage/">Azure Storage Outbound Adapter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus-demo/Adapters/Inbound/email/">Email Inbound Adapter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus-demo/Adapters/Inbound/event-grid/">Event Grid Adapter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus-demo/Adapters/Inbound/rest/">Rest Inbound Adapter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus-demo/Adapters/Inbound/service-bus/">Service Bus Inbound Adapter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus-demo/Adapters/Inbound/sftp/">(S)FTP inbound adapter</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docusaurus-demo/Adapters/Outbound/acknowledgment/">Outbound</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus-demo/Integrations/creating-integrations/">Integrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus-demo/Managament/management-api/">Managament</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docusaurus-demo/Security/">Security</a><button aria-label="Toggle the collapsible sidebar category &#x27;Security&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus-demo/Transformation/Integration Account/flat-file/">Transformation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docusaurus-demo/use-cases/">Use Cases</a><button aria-label="Toggle the collapsible sidebar category &#x27;Use Cases&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus-demo/core-concepts/">Core Concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus-demo/encoding/">Encoding</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus-demo/functionality/">Functionality</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus-demo/logging/">Logging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus-demo/metadata/">Metadata</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus-demo/resending/">Resending</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus-demo/retry/">Retry</a></li></ul></nav></div></aside><main class="docMainContainer_uL0j"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docusaurus-demo/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_kU5B"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Adapters</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Inbound</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">The ConnXio Api</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_bZGK theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_l22C">On this page</button></div><div class="theme-doc-markdown markdown"><h1>The ConnXio Api</h1><p>The ConnXio (CX) Api is reachable through our <a href="https://azure.microsoft.com/en-us/services/api-management/?&amp;ef_id=CjwKCAjwwsmLBhACEiwANq-tXF5xcD2EmPBq9wtxn2fHg1vExNIvKK1siM9sKzYFiT56qywH12O1QxoCAykQAvD_BwE:G:s&amp;OCID=AID2200230_SEM_CjwKCAjwwsmLBhACEiwANq-tXF5xcD2EmPBq9wtxn2fHg1vExNIvKK1siM9sKzYFiT56qywH12O1QxoCAykQAvD_BwE:G:s&amp;gclid=CjwKCAjwwsmLBhACEiwANq-tXF5xcD2EmPBq9wtxn2fHg1vExNIvKK1siM9sKzYFiT56qywH12O1QxoCAykQAvD_BwE#overview" target="_blank" rel="noopener noreferrer">Api Management</a> (APIM) proxy and gives customers the ability to push messages through the CX pipeline with webhooks as well as use direct transformation endpoints that uses CX&#x27;s internal logic to <a href="/docusaurus-demo/Transformation/Code-Components/">map</a>, <a href="/docusaurus-demo/Transformation/Splitting/">split</a> or <a href="/docusaurus-demo/Transformation/Batching/">batch</a> messages with code components within their own flows. This page describes the api including information and resources needed to use it.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="api-definition">Api definition<a class="hash-link" href="#api-definition" title="Direct link to heading">​</a></h2><p>The Api definition can be found in the Api swagger here: <a href="https://cmh-prod-api-wa.azurewebsites.net/index.html" target="_blank" rel="noopener noreferrer">https://cmh-prod-api-wa.azurewebsites.net/index.html</a>. This swagger is hosted by the Api url itself but you will not be able to contact the Api on this url. To be able to contact the api you need to use the APIM endpoint found here: <code>https://cmh-messagehub-apim-prod.azure-api.net</code>. Don&#x27;t mind the &quot;messagehub&quot; name, this is the earlier moniker for ConnXio before we implemented our name-change, in the future we will change the url as well, but the old one will always be operational.</p><p>This definition is based on established <a href="https://swagger.io/resources/articles/documenting-apis-with-swagger/" target="_blank" rel="noopener noreferrer">swagger</a> documentation, but we have disabled the test feature for non-communicate employees. If you need to test the Api manually please do so through tools like <a href="https://www.postman.com/" target="_blank" rel="noopener noreferrer">postman</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="authorization">Authorization<a class="hash-link" href="#authorization" title="Direct link to heading">​</a></h2><p>To be able to send messages to CX you need to authorize yourself as a CX customer. We support several different credential schemes; Oauth, Basic and EventGrid.</p><p>All endpoints also require you to supply a <a href="https://docs.microsoft.com/en-us/azure/api-management/api-management-subscriptions" target="_blank" rel="noopener noreferrer">subscription header</a>, this basically works as a form of authorization since only valid keys let you access the api. We will show more complete examples later, but a subscription header looks like this: <code>Ocp-Apim-Subscription-Key:007603d399999999xxxx9964y91x7x29</code>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="oauth">OAuth<a class="hash-link" href="#oauth" title="Direct link to heading">​</a></h3><p>Oauth is a complex authorization mechanism, read more about it here: <a href="https://oauth.net/getting-started/" target="_blank" rel="noopener noreferrer">https://oauth.net/getting-started/</a></p><p>To get access to the CX Api you need to contact us through your contact point and order a set of 5 keys:</p><ul><li>client_id</li><li>client_secret</li><li>grant_type</li><li>resource</li><li>uri</li></ul><p>When you have these 5 keys you send a request like described in the curl code below:</p><div class="language-curl codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-curl codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">curl --location --request POST &#x27;https://suppliedbycommunicate.com/oauth2/token&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--header &#x27;Content-Type: application/x-www-form-urlencoded&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--data-urlencode &#x27;client_id={client_id}&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--data-urlencode &#x27;client_secret={client_secret}&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--data-urlencode &#x27;grant_type={grant_type}&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--data-urlencode &#x27;resource={resource}&#x27;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This returns a token that you add into the Authorization header as <code>Authorization:Bearer {token}</code>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="basic">Basic<a class="hash-link" href="#basic" title="Direct link to heading">​</a></h3><p>We do allow our customers to use basic authentication for webhook flows. This is done by simply using the <a href="#credentials">subscription header</a> as authentication. Please contact us for a subscription header that allows this, be aware however that enabling this option is a lot less secure than using <a href="#oauth">OAuth</a>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="eventgrid">Eventgrid<a class="hash-link" href="#eventgrid" title="Direct link to heading">​</a></h3><p>Eventgrid is used extensively inside Azure and is a framework for building event based architecture on top of Azure components. Read more about eventgrid here <a href="https://docs.microsoft.com/en-us/azure/event-grid/overview" target="_blank" rel="noopener noreferrer">https://docs.microsoft.com/en-us/azure/event-grid/overview</a>. We support eventgrid and if you follow the directions provided by Microsoft all you should need to do is point your eventgrid url to the Eventgrid endpoint at <code>/api/EventGrid</code>. You need to supply the endpoint with a set of query parameters like so: <code>/api/EventGrid?ConfigCorrelationId={guid}&amp;InterchangeId={guid}</code>. The only required parameter is CorrelationId. DocumentType, RecieverId and SenderId are obsolete. FileName supplies the pipeline with a FileName parameter that can be used in <a href="/docusaurus-demo/Transformation/Variable-Replacement/">variable replacement</a> and InterchangeId supplies the pipeline with a custom InterchangeId like described <a href="/docusaurus-demo/Core-Concepts/">here</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="enable-message-delivery-needs-corraltionid-picture">Enable message delivery <code>needs corraltionid picture</code><a class="hash-link" href="#enable-message-delivery-needs-corraltionid-picture" title="Direct link to heading">​</a></h2><p>Even if you have all the authorization and message delivery handled CX will not allow you to communicate with the API unless you have set up an integration and configured it to receive messages through the API. To do this you click the &quot;Inbound Connection&quot; shape and simply select the &quot;Api&quot; option. No other configuration is necessary.</p><p><img loading="lazy" src="https://cmhpictsa.blob.core.windows.net/pictures/Api%20menu.png?sv=2020-04-08&amp;st=2021-10-27T11%3A49%3A45Z&amp;se=2040-10-28T12%3A49%3A00Z&amp;sr=b&amp;sp=r&amp;sig=OXEdJEImDuRRfHTzsSm%2Bm54TEFILE1itF%2FPRWfUbr2o%3D" alt="img" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="correlation-id">Correlation Id<a class="hash-link" href="#correlation-id" title="Direct link to heading">​</a></h2><p>All request <strong>need to contain a valid CorrelationId</strong> for CX to be able to process them. This Id can be found on your integrations inside the portal. CorrelationId refers to which integration is to be run on your message, CorrelationId explained in more detail inside the <a href="/docusaurus-demo/Core-Concepts/">Core Concepts page</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="endpoints">Endpoints<a class="hash-link" href="#endpoints" title="Direct link to heading">​</a></h2><p>Cx supplies three endpoint for pure message delivery. All endpoint end up with the same result but allow for different use cases:</p><ol><li><code>/api/message</code> lets you supply your parameters as query parameters. This is excellent for scenarios where you do not have access to the message body or are setting up the request through a third party. The body of the request is treted as the raw message body.</li><li><code>/api/message/new</code> this endpoint lets you supply messages in a ordered JSON format. This lets you supply your message with your chosen encoding in the <code>messageBody</code> parameter as base64 encoded bytes. This is more code heavy way of communicating with the Api and lets you have total control over your message body and parameters without having to deal with the peculiars of Urls and query parameters.</li><li><code>/api/Message/new/batch</code> does the exact same thing as <strong>2</strong> but lets you supply an array to the Api. This cuts down on traffic and is easier to handle in large traffic scenarios. As such delivering messages as batches may speed up message processing.</li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="request-example">Request Example<a class="hash-link" href="#request-example" title="Direct link to heading">​</a></h2><p>After ensuring you have the right Url and security credentials a valid request should look something like this:</p><blockquote><p>DocumentType, RecieverId and SenderId are obsolete.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_mojV" id="apimessage">/api/message<a class="hash-link" href="#apimessage" title="Direct link to heading">​</a></h3><div class="language-curl codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-curl codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">curl --location --request POST &#x27;https://cmh-messagehub-apim-prod.azure-api.net/api/message?ConfigCorrelationId=xxxx-xxx-xxxx-xxxxx-xxxxxxx&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--header &#x27;Content-Type: application/json&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--header &#x27;Ocp-Apim-Subscription-Key: xxxxxxxxxxxxxxxxxxxxx&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--header &#x27;Authorization: Bearer {token}&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--data-raw &#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &quot;Prop&quot;: &quot;Superdupertest&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}&#x27;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="apimessagenew">/api/message/new<a class="hash-link" href="#apimessagenew" title="Direct link to heading">​</a></h3><div class="language-curl codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-curl codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">curl --location --request POST &#x27;https://cmh-messagehub-apim-prod.azure-api.net/api/message/new&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--header &#x27;Content-Type: application/json&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--header &#x27;Ocp-Apim-Subscription-Key: 631373d321784590baff7464d91a7c69&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--header &#x27;Authorization: Bearer {token}&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--data-raw &#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;messageEncoding&quot;: &quot;utf-8&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;configCorrelationId&quot;: &quot;xxxx-xxxx-xxx-xxx-xxx&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;interchangeId&quot;: &quot;x1xx-1xxx-xxx-111-x1x&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;messageBody&quot;: &quot;ewoJIlByb3AiOiAiU3VwZXJkdXBlcnRlc3QiLAoJIlByb3AiOiAiU3VwZXJkdXBlcnRlc3QiLAoJIlByb3AiOiAiU3VwZXJkdXBlcnRlc3QiCn0=&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;fileName&quot;: &quot;myfile&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}&#x27;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="retry">Retry<a class="hash-link" href="#retry" title="Direct link to heading">​</a></h2><p>Be aware that when using our Api you are required to handle all retry on the client side. Our regular SLA is in effect at all times but hiccups can happen within all network infrastructure and should be assessed and handled as needed.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/lmrisdal/docusaurus-demo/tree/main/docs/Adapters/Inbound/api.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docusaurus-demo/Adapters/Overview/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Overview</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docusaurus-demo/Adapters/Inbound/azure-storage/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Azure Storage Outbound Adapter</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#api-definition" class="table-of-contents__link toc-highlight">Api definition</a></li><li><a href="#authorization" class="table-of-contents__link toc-highlight">Authorization</a><ul><li><a href="#oauth" class="table-of-contents__link toc-highlight">OAuth</a></li><li><a href="#basic" class="table-of-contents__link toc-highlight">Basic</a></li><li><a href="#eventgrid" class="table-of-contents__link toc-highlight">Eventgrid</a></li></ul></li><li><a href="#enable-message-delivery-needs-corraltionid-picture" class="table-of-contents__link toc-highlight">Enable message delivery <code>needs corraltionid picture</code></a></li><li><a href="#correlation-id" class="table-of-contents__link toc-highlight">Correlation Id</a></li><li><a href="#endpoints" class="table-of-contents__link toc-highlight">Endpoints</a></li><li><a href="#request-example" class="table-of-contents__link toc-highlight">Request Example</a><ul><li><a href="#apimessage" class="table-of-contents__link toc-highlight">/api/message</a></li><li><a href="#apimessagenew" class="table-of-contents__link toc-highlight">/api/message/new</a></li></ul></li><li><a href="#retry" class="table-of-contents__link toc-highlight">Retry</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docusaurus-demo/">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Pages</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.communicate.no" target="_blank" rel="noopener noreferrer" class="footer__link-item">Communicate<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.communicate.no/en/connxio" target="_blank" rel="noopener noreferrer" class="footer__link-item">ConnXio<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://portal.connxio.no" target="_blank" rel="noopener noreferrer" class="footer__link-item">ConnXio Portal<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Communicate Norge. Built with Docusaurus.</div></div></div></footer></div>
<script src="/docusaurus-demo/assets/js/runtime~main.004bad01.js"></script>
<script src="/docusaurus-demo/assets/js/main.e13538bb.js"></script>
</body>
</html>