<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Transformation/code-components">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.20">
<title data-rh="true">Code Components | ConnXio Docs</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://lmrisdal.github.io/docusaurus-demo/Transformation/code-components/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Code Components | ConnXio Docs"><meta data-rh="true" name="description" content="ConnXio (CX) uses C# code to transform data at multiple points through the CX pipeline. This page describes how to create a code component for transformation, where you can use it and what possibilities open up to you by using it. See splitting and batching for information on code components within those processes."><meta data-rh="true" property="og:description" content="ConnXio (CX) uses C# code to transform data at multiple points through the CX pipeline. This page describes how to create a code component for transformation, where you can use it and what possibilities open up to you by using it. See splitting and batching for information on code components within those processes."><link data-rh="true" rel="icon" href="/docusaurus-demo/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://lmrisdal.github.io/docusaurus-demo/Transformation/code-components/"><link data-rh="true" rel="alternate" href="https://lmrisdal.github.io/docusaurus-demo/Transformation/code-components/" hreflang="en"><link data-rh="true" rel="alternate" href="https://lmrisdal.github.io/docusaurus-demo/Transformation/code-components/" hreflang="x-default"><link rel="stylesheet" href="/docusaurus-demo/assets/css/styles.6fc13c9f.css">
<link rel="preload" href="/docusaurus-demo/assets/js/runtime~main.3bf3ff09.js" as="script">
<link rel="preload" href="/docusaurus-demo/assets/js/main.e2292b63.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docusaurus-demo/"><div class="navbar__logo"><img src="/docusaurus-demo/img/connxio-logo.svg" alt="Connxio Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/docusaurus-demo/img/connxio-logo.svg" alt="Connxio Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title text--truncate"></b></a><a href="https://portal.connxio.no" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">ConnXio Portal<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/lmrisdal/docusaurus-demo" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_dLyj"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_mKqt"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><div class="docPage_ualW"><aside class="theme-doc-sidebar-container docSidebarContainer_UQUJ"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus-demo/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus-demo/Adapters/Overview/">Adapters</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus-demo/Integrations/creating-integrations/">Integrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docusaurus-demo/Managament/management-api/">Managament</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docusaurus-demo/Security/">Security</a><button aria-label="Toggle the collapsible sidebar category &#x27;Security&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docusaurus-demo/Transformation/Integration Account/flat-file/">Transformation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docusaurus-demo/Transformation/Integration Account/flat-file/">Integration Account</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus-demo/Transformation/batching/">Batching</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docusaurus-demo/Transformation/code-components/">Code Components</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus-demo/Transformation/data-collection/">Data Collection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus-demo/Transformation/format-conversion/">Format Conversion</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus-demo/Transformation/prettify/">Prettify Content</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus-demo/Transformation/splitting/">Splitting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus-demo/Transformation/variable-replacement/">Variable Replacement</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docusaurus-demo/use-cases/">Use Cases</a><button aria-label="Toggle the collapsible sidebar category &#x27;Use Cases&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus-demo/core-concepts/">Core Concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus-demo/encoding/">Encoding</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus-demo/functionality/">Functionality</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus-demo/logging/">Logging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus-demo/metadata/">Metadata</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus-demo/resending/">Resending</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus-demo/retry/">Retry</a></li></ul></nav></div></aside><main class="docMainContainer_uL0j"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docusaurus-demo/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_kU5B"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Transformation</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Code Components</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_bZGK theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_l22C">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Code components</h1><p>ConnXio (CX) uses C# code to transform data at multiple points through the CX pipeline. This page describes how to create a <em>code component</em> for transformation, where you can use it and what possibilities open up to you by using it. See <a href="/docusaurus-demo/Transformation/Splitting/">splitting</a> and <a href="/docusaurus-demo/Transformation/Batching/">batching</a> for information on code components within those processes.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="what-is-a-code-component">What is a code component?<a class="hash-link" href="#what-is-a-code-component" title="Direct link to heading">​</a></h2><p>A code component is essentially C# code compiled into a dll file. We use reflection to run these files in a sandbox where we supply the message content and other variables and use the output for further processing.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="creating-a-component">Creating a component<a class="hash-link" href="#creating-a-component" title="Direct link to heading">​</a></h2><p>The easiest way to create you own code component is to start by opening Visual Studio and creating a new <a href="https://docs.microsoft.com/en-us/visualstudio/get-started/csharp/tutorial-console?view=vs-2019" target="_blank" rel="noopener noreferrer">console project</a>. Use .net core 3.1 or .net standard 2.1 for new components. We do have some backwards compatibility, and if you cant get your code to work feel free to contact us.</p><p>After you create the project and open it you need to create a file called <strong>Initialize</strong> and paste this code inside:</p><div class="language-csharp codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-csharp codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/// The method name must be Map but you can add as many files and other methods that you want, and call them inside Map. But you must use this signature and return a string.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;message&quot;&gt;The message content as it is currently. This changes as the engine runs trough different transformations&lt;/param&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;dataCollection&quot;&gt;The data collection properties you have collected earlier in the transformation pipeline&lt;/param&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;userDefinedProperties&quot;&gt;The user defined properties that are transferred with the message metadata. Put variables here to access them later outside message content.&lt;/param&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/// &lt;returns&gt;A string of the transformed message&lt;/returns&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public string Map(string message, Dictionary&lt;string, string&gt; dataCollection, Dictionary&lt;string, string&gt; userDefinedProperties)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //Add error handling as necessary, this will give better error messages in the logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (message == null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        throw new ArgumentException(&quot;Message field is null&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //You can use newtonsoft and other basic nuget packages. Contact the CX team if you need a non supported package.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dynamic obj = JsonConvert.DeserializeObject(message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    obj.Prop = &quot;Done&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //Add data to user properties if needed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    userDefinedProperties(&quot;INeedThisLater&quot;, obj.prop);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //Use collected data as needed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    obj.Prop2 = dataCollection[&quot;MyCollectedData&quot;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //Return string representation of the message to propagate through pipeline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return JsonConvert.SerializeObject(obj);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p><code>NOTE: JsonConvert requires Newtonsoft version 12.0.3 or older.</code></p></blockquote><p>The code above adds examples of the most basic functionality provided by code components and is an boiler plate for most transformations. We would recommend adding a method to yor project to run the Map method with sample input. This can be done either in the Program.cs of a console project or through a Unit test or some other means, this is all subjective preference. An example of a the unit test method is featured below:</p><div class="language-csharp codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-csharp codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">public class CodeComponentTest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Initialize Mapper { get; set; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SetUp]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void Setup()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Mapper = new Initialize();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Test]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void Test_Map_Invoice()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        string testDataColContentAsString = GetTestDataColContentString();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        string testContentAsString = GetTestContentString();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Dictionary&lt;string, string&gt; dataCol = new Dictionary&lt;string, string&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        dataCol.Add(&quot;invoice&quot;, testDataColContentAsString);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var mappedContent = Mapper.Map(testContentAsString, dataCol, new Dictionary&lt;string, string&gt;());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private string GetTestDataColContentString()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    =&gt; File.ReadAllText(@&quot;TestFiles/Invoice/Test_Invoice_Multiline.txt&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private string GetTestContentString()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    =&gt; File.ReadAllText(@&quot;TestFiles/Invoice/Partitioned_Id.txt&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>After writing and testing your component you need to create the dll file itself. The easiest way to do this is simply by building you code (which it should have done automatically by now). You will find you dll file inside a folder looking something like this: <code>...\MyProject\bin\Debug\netcoreapp3.1\bin\MyProject.dll</code>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="termination">Termination<a class="hash-link" href="#termination" title="Direct link to heading">​</a></h3><p>You can terminate a message by throwing a &#x27;NotImplementedException&#x27; from you transformation code component. This does not work on splitting and batching variants. The exception type is fairly mismatched as far as termination of messages but it&#x27;s one of the only exception types that exists in the base C# system, package that is never thrown by the code itself. This is the reason we chose to use this exact exception. We might amend this with our own exceptions in the future.</p><p>You can supply the termination error message with a set of code words to influence the behavior of the termination process. The pipeline is always terminated but the code word controls the logging associated with it. You supply these code words in the following way:</p><div class="language-csharp codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-csharp codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">//The code word before the pipe (|) is used to select the action while the text after the pipe is used as the log event message sent via the [logging events functionality](/Logging).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">throw new NotImplementedException(&quot;Warning|Pipeline terminated with warning&quot;);</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We support the following options on termination:</p><table><thead><tr><th>Code word</th><th>Action</th></tr></thead><tbody><tr><td>Success</td><td></td></tr><tr><td>Warning</td><td>The termination is logged as a warning with the minimum log level.</td></tr><tr><td>Error</td><td>The termination is logged as an error with the none log level.</td></tr><tr><td>Loglevel:None</td><td>The termination is logged with the terminated status but with the none log level instead of the default minimum level.</td></tr><tr><td>Loglevel:Never</td><td></td></tr><tr><td><em>Default behavior</em></td><td>The termination is logged with the terminated status on the minimum log level with the message: &quot;Transaction terminated by code map&quot;</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_mojV" id="uploading-your-component">Uploading your component<a class="hash-link" href="#uploading-your-component" title="Direct link to heading">​</a></h2><p>CX supports both internal and external component upload locations. If you want to use external upload management the only real requirement is that the raw component dll is available on a REST GET request at the endpoint you specify in your integration configuration like shown below:</p><p><img loading="lazy" src="https://cmhpictsa.blob.core.windows.net/pictures/Code%20Mapping%20Self%20hosted.PNG?sv=2020-04-08&amp;st=2021-10-20T11%3A20%3A16Z&amp;se=2040-10-21T11%3A20%3A00Z&amp;sr=b&amp;sp=r&amp;sig=iwI0j%2Fyh8iCN48%2BrktJaxgGrqXqA9DmOl5sT2HHCyMU%3D" alt="img" class="img_E7b_"></p><p>Internal upload management can be done in the <em>Code Components</em> view inside the ConnXio Portal. Choose <em>Upload new component</em> and fill in the necessary fields like so:</p><p><img loading="lazy" src="https://cmhpictsa.blob.core.windows.net/pictures/Internal%20code%20mapping.PNG?sv=2020-04-08&amp;st=2021-10-20T11%3A25%3A22Z&amp;se=2040-10-21T11%3A25%3A00Z&amp;sr=b&amp;sp=r&amp;sig=xPBSb9XGhTGJvEuCQBVEttFnvsXigrtdyKzwmbgFWzk%3D" alt="img" class="img_E7b_"></p><p><strong>Name:</strong> The name of the map that you can reference in the component list.\
<strong>Type:</strong> The type of map. Read more about types <!-- -->[here]<!-- -->.\
<strong>Description:</strong> A description of your map.\
<strong>Version:</strong> The version of the map. You can deprecate and manage maps by version in the component view.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="using-the-component">Using the component<a class="hash-link" href="#using-the-component" title="Direct link to heading">​</a></h2><p>To use the component you have created you enter the <a href="/docusaurus-demo/Integrations/creating-integrations/">Integrations</a> menu and either select or create your integration. Use the <a href="/docusaurus-demo/Transformation/code-components/#using-the-component">transformation</a> menu to add a code component shape as seen below.</p><p><img loading="lazy" src="https://cmhpictsa.blob.core.windows.net/pictures/Code%20mapping%20add%20tranformation.png?sv=2020-04-08&amp;st=2021-10-21T11%3A01%3A19Z&amp;se=2040-10-22T11%3A01%3A00Z&amp;sr=b&amp;sp=r&amp;sig=7sKZFsU0p1B4EJDZowq6aAL8GDtkm2tkpbw94JjzTlo%3D" alt="img" class="img_E7b_"></p><p>After you add the shape you need to select your component in the code component window. If you use internal upload the input will look something like shown below:</p><p><img loading="lazy" src="https://cmhpictsa.blob.core.windows.net/pictures/Code%20Mapping%20select%20mapping.PNG?sv=2020-04-08&amp;st=2021-10-21T11%3A05%3A02Z&amp;se=2040-10-22T11%3A05%3A00Z&amp;sr=b&amp;sp=r&amp;sig=8ViYt9AB%2B5blz8GJvbT4rsuHNXfZsWN%2Fj8IxhjdEteM%3D" alt="img" class="img_E7b_"></p><p>If you use external upload you select the SasUsi option and paste your URI in the input field there.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="caching">Caching<a class="hash-link" href="#caching" title="Direct link to heading">​</a></h2><p>All components are cached for 30 seconds when loaded into the service. Keep this in mind when doing rapid changes to component code.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/lmrisdal/docusaurus-demo/tree/main/docs/Transformation/code-components.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docusaurus-demo/Transformation/batching/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Batching</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docusaurus-demo/Transformation/data-collection/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Data Collection</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-a-code-component" class="table-of-contents__link toc-highlight">What is a code component?</a></li><li><a href="#creating-a-component" class="table-of-contents__link toc-highlight">Creating a component</a><ul><li><a href="#termination" class="table-of-contents__link toc-highlight">Termination</a></li></ul></li><li><a href="#uploading-your-component" class="table-of-contents__link toc-highlight">Uploading your component</a></li><li><a href="#using-the-component" class="table-of-contents__link toc-highlight">Using the component</a></li><li><a href="#caching" class="table-of-contents__link toc-highlight">Caching</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docusaurus-demo/">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Pages</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.communicate.no" target="_blank" rel="noopener noreferrer" class="footer__link-item">Communicate<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.communicate.no/en/connxio" target="_blank" rel="noopener noreferrer" class="footer__link-item">ConnXio<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://portal.connxio.no" target="_blank" rel="noopener noreferrer" class="footer__link-item">ConnXio Portal<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Communicate Norge. Built with Docusaurus.</div></div></div></footer></div>
<script src="/docusaurus-demo/assets/js/runtime~main.3bf3ff09.js"></script>
<script src="/docusaurus-demo/assets/js/main.e2292b63.js"></script>
</body>
</html>